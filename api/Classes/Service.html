<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Service Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Class/Service" class="dashAnchor"></a>
    <a title="Service Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Siesta Docs</a> (89% documented)</p>
        <p class="header-right"><a href="https://github.com/bustoutsolutions/siesta"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Siesta Reference</a>
        <img id="carat" src="../img/carat.png" />
        Service Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
          <a href="../Resources.html">Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/Service.html">Service</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Resource.html">Resource</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Entity.html">Entity</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Error.html">Error</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/TypedContentAccessors.html">TypedContentAccessors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Observering Resources.html">Observering Resources</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/ResourceObserver.html">ResourceObserver</a>
              </li>
              <li class="nav-group-task">
                <a href="../Observering Resources.html#/s:6Siesta23ResourceObserverClosure">ResourceObserverClosure</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ResourceEvent.html">ResourceEvent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Requests.html">Requests</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RequestMethod.html">RequestMethod</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Response Parsing.html">Response Parsing</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ResponseTransformer.html">ResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ResponseEntityTransformer.html">ResponseEntityTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Response Parsing.html#/s:V6Siesta23TextResponseTransformer">TextResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Response Parsing.html#/s:V6Siesta23JSONResponseTransformer">JSONResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Response Parsing.html#/s:V6Siesta24ImageResponseTransformer">ImageResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TransformerSequence.html">TransformerSequence</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../UI Helpers.html">UI Helpers</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/ResourceStatusOverlay.html">ResourceStatusOverlay</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/RemoteImageView.html">RemoteImageView</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Network Layer.html">Network Layer</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/NetworkingProvider.html">NetworkingProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/NetworkingProviderConvertible.html">NetworkingProviderConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RequestNetworking.html">RequestNetworking</a>
              </li>
              <li class="nav-group-task">
                <a href="../Network Layer.html#/s:6Siesta35RequestNetworkingCompletionCallback">RequestNetworkingCompletionCallback</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/NSURLSessionProvider.html">NSURLSessionProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AlamofireProvider.html">AlamofireProvider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Caching.html">Caching</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/EntityCache.html">EntityCache</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/EntityEncoder.html">EntityEncoder</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/JSONEntityEncoder.html">JSONEntityEncoder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Logging.html">Logging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Logging.html#/s:v6Siesta20enabledLogCategoriesGVSs3SetOS_11LogCategory_">enabledLogCategories</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/LogCategory.html">LogCategory</a>
              </li>
              <li class="nav-group-task">
                <a href="../Logging.html#/s:v6Siesta6loggerFTOS_11LogCategorySS_T_">logger</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Other Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Alamofire.html">Alamofire</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSURLSession.html">NSURLSession</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/NSURLSessionConfiguration.html">NSURLSessionConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Other Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Other Protocols.html#/s:P6Siesta17NSJSONConvertible">NSJSONConvertible</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Service</h1>
              <div class="declaration">
                <div class="Swift">
                  <p class="aside-title">Swift</p>
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">Service</span><span class="p">:</span> <span class="kt">NSObject</span></code></pre>

                </div>
              </div>
            <p>A set of logically connected RESTful resources, grouped under a base URL.</p>

<p>You will typically create a separate subclass of <code>Service</code> for each REST API you use.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC6Siesta7Service7baseURLGSqCSo5NSURL_"></a>
                    <a name="//apple_ref/swift/Property/baseURL" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC6Siesta7Service7baseURLGSqCSo5NSURL_">baseURL</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The root URL of the API.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">let</span> <span class="nv">baseURL</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7ServicecFMS0_FT4baseGSqSS_22useDefaultTransformersSb10networkingPS_29NetworkingProviderConvertible__S0_"></a>
                    <a name="//apple_ref/swift/Method/init(base:useDefaultTransformers:networking:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7ServicecFMS0_FT4baseGSqSS_22useDefaultTransformersSb10networkingPS_29NetworkingProviderConvertible__S0_">init(base:useDefaultTransformers:networking:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a new service for the given API.</p>

<ul>
<li>Parameter base:
The base URL of the API. If nil, there is no base URL, and thus <code>resource(_:)</code> will require absolute URLs.</li>
<li>Parameter useDefaultTransformers:
If true, include handling for JSON, text, and images. If false, leave all responses as <code>NSData</code> (unless you
add your own <code>ResponseTransformer</code> using <code>configure(...)</code>).</li>
<li>Parameter networkingProvider:
The handler to use for networking. The default is an NSURLSession with its default configuration. You can
pass an <code>NSURLSession</code>, <code>NSURLSessionConfiguration</code>, or <code>Alamofire.Manager</code> to use an existing provider with
custom configuration. You can also use your own networking library of choice by implementing <code>NetworkingProvider</code>.</li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span>
            <span class="nv">base</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
            <span class="nv">useDefaultTransformers</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nv">networking</span><span class="p">:</span> <span class="kt">NetworkingProviderConvertible</span> <span class="o">=</span> <span class="kt">NSURLSessionConfiguration</span><span class="o">.</span><span class="nf">defaultSessionConfiguration</span><span class="p">())</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>base</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The base URL of the API. If nil, there is no base URL, and thus <code>resource(_:)</code> will require absolute URLs.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>useDefaultTransformers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>If true, include handling for JSON, text, and images. If false, leave all responses as <code>NSData</code> (unless you add your own <code>ResponseTransformer</code> using <code>configure(...)</code>).</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>networkingProvider</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The handler to use for networking. The default is an NSURLSession with its default configuration. You can pass an <code>NSURLSession</code>, <code>NSURLSessionConfiguration</code>, or <code>Alamofire.Manager</code> to use an existing provider with custom configuration. You can also use your own networking library of choice by implementing <code>NetworkingProvider</code>.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service8resourceFS0_FT3urlGSqCSo5NSURL__CS_8Resource"></a>
                    <a name="//apple_ref/swift/Method/resource(url:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service8resourceFS0_FT3urlGSqCSo5NSURL__CS_8Resource">resource(url:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns the unique resource with the given URL.</p>

<p>This method will <em>always</em> return the same instance of <code>Resource</code> for the same URL within
the context of a <code>Service</code> as long as anyone retains a reference to that resource.
Unreferenced resources remain in memory (with their cached data) until a low memory event
occurs, at which point they are summarily evicted.</p>

<p>If the given resource is nil (likely indicating that it came from a malformed URL string), this method <em>does</em>
return a resource — but that resource will give errors for all requests without touching the network.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">resource</span><span class="p">(</span><span class="n">url</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">NSURL</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Resource</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service8resourceFS0_FT3urlGSqSS__CS_8Resource"></a>
                    <a name="//apple_ref/swift/Method/resource(url:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service8resourceFS0_FT3urlGSqSS__CS_8Resource">resource(url:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Convenience to parse a URL and return its resource.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">resource</span><span class="p">(</span><span class="n">url</span> <span class="nv">urlString</span><span class="p">:</span> <span class="kt">String</span><span class="p">?)</span> <span class="o">-&gt;</span> <span class="kt">Resource</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service8resourceFS0_FSSCS_8Resource"></a>
                    <a name="//apple_ref/swift/Method/resource(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service8resourceFS0_FSSCS_8Resource">resource(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Return the unique resource with the given path appended to <code>baseURL</code>.
Leading slash is optional, and has no effect.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">resource</span><span class="p">(</span><span class="nv">path</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Resource</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
                <div class="task-name-container">
                  <a name="/Resource%20Configuration"></a>
                  <a name="//apple_ref/swift/Section/Resource Configuration" class="dashAnchor"></a>
                  <a href="#/Resource%20Configuration">
                    <h3 class="section-name">Resource Configuration</h3>
                  </a>
                </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service9configureFS0_FT11descriptionSS10configurerFCVS_13Configuration7BuilderT__T_"></a>
                    <a name="//apple_ref/swift/Method/configure(description:configurer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service9configureFS0_FT11descriptionSS10configurerFCVS_13Configuration7BuilderT__T_">configure(description:configurer:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds global configuration to apply to all resources in this service. For example:</p>

<pre class="highlight plaintext"><code>service.configure { $0.config.headers["Foo"] = "bar" }
</code></pre>

<p>The <code>configurer</code> block is evaluated every time a matching resource asks for its configuration.</p>

<p>The optional <code>description</code> is used for logging purposes only.</p>

<p>Matching configuration closures apply in the order they were added, whether global or not. That means that you
will usually want to apply your global configuration first, then your resource-specific configuration.</p>

<ul>
<li>SeeAlso: <code>configure(_:configurer:)</code></li>
<li>SeeAlso: <code>invalidateConfiguration()</code></li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span>
            <span class="n">description</span> <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"global"</span><span class="p">,</span>
            <span class="nv">configurer</span><span class="p">:</span> <span class="kt">Configuration</span><span class="o">.</span><span class="kt">Builder</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service9configureFS0_FTCS_8Resource11descriptionGSqSS_10configurerFCVS_13Configuration7BuilderT__T_"></a>
                    <a name="//apple_ref/swift/Method/configure(_:description:configurer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service9configureFS0_FTCS_8Resource11descriptionGSqSS_10configurerFCVS_13Configuration7BuilderT__T_">configure(_:description:configurer:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Adds configuration for one resource’s URL. You add configuration this way instead of setting properties directly
on the resource because <code>Resource</code> instances may be discarded and recreated when they are not in use.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span>
            <span class="nv">resource</span><span class="p">:</span> <span class="kt">Resource</span><span class="p">,</span>
            <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
            <span class="nv">configurer</span><span class="p">:</span> <span class="kt">Configuration</span><span class="o">.</span><span class="kt">Builder</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service9configureFS0_FTSS11descriptionGSqSS_10configurerFCVS_13Configuration7BuilderT__T_"></a>
                    <a name="//apple_ref/swift/Method/configure(_:description:configurer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service9configureFS0_FTSS11descriptionGSqSS_10configurerFCVS_13Configuration7BuilderT__T_">configure(_:description:configurer:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Applies additional configuration to resources matching the given pattern.</p>

<p>For example:</p>

<pre class="highlight plaintext"><code>configure("/items")    { $0.config.expirationTime = 5 }
configure("/items/​*")  { $0.config.headers["Funkiness"] = "Very" }
configure("/admin/​**") { $0.config.headers["Auth-token"] = token }
</code></pre>

<p>The <code>urlPattern</code> is interpreted relative to the service’s base URL unless it begins with a protocol (e.g. <code>http:</code>).
If it is relative, the leading slash is optional.</p>

<p>The pattern supports two wildcards:</p>

<ul>
<li><code>*</code> matches zero or more characters within a path segment, and</li>
<li><code>**</code> matches zero or more characters across path segments, with the special case that <code>/**/</code> matches <code>/</code>.</li>
</ul>

<p>Examples:</p>

<ul>
<li><code>/foo/*/bar</code> matches <code>/foo/1/bar</code> and  <code>/foo/123/bar</code>.</li>
<li><code>/foo/**/bar</code> matches <code>/foo/bar</code>, <code>/foo/123/bar</code>, and <code>/foo/1/2/3/bar</code>.</li>
<li><code>/foo*/bar</code> matches <code>/foo/bar</code> and <code>/food/bar</code>.</li>
</ul>

<p>The pattern ignores the resource’s query string.</p>

<p>If you need more fine-grained URL matching, use the predicate flavor of this method.</p>

<ul>
<li>SeeAlso: <code>configure(configurer:)</code></li>
<li>SeeAlso: <code>configure(_:predicate:configurer:)</code></li>
<li>SeeAlso: <code>invalidateConfiguration()</code></li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span>
            <span class="nv">urlPattern</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
            <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
            <span class="nv">configurer</span><span class="p">:</span> <span class="kt">Configuration</span><span class="o">.</span><span class="kt">Builder</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service9configureFS0_FTFCSo5NSURLSb11descriptionGSqSS_10configurerFCVS_13Configuration7BuilderT__T_"></a>
                    <a name="//apple_ref/swift/Method/configure(_:description:configurer:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service9configureFS0_FTFCSo5NSURLSb11descriptionGSqSS_10configurerFCVS_13Configuration7BuilderT__T_">configure(_:description:configurer:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Accepts an arbitrary URL matching predicate if the wildcards in the <code>urlPattern</code> flavor of <code>configure()</code>
  aren’t robust enough.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">configure</span><span class="p">(</span>
            <span class="nv">urlMatcher</span><span class="p">:</span> <span class="kt">NSURL</span> <span class="o">-&gt;</span> <span class="kt">Bool</span><span class="p">,</span>
            <span class="nv">description</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
            <span class="nv">configurer</span><span class="p">:</span> <span class="kt">Configuration</span><span class="o">.</span><span class="kt">Builder</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service23invalidateConfigurationFS0_FT_T_"></a>
                    <a name="//apple_ref/swift/Method/invalidateConfiguration()" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service23invalidateConfigurationFS0_FT_T_">invalidateConfiguration()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Signals that all resources need to recompute their configuration next time they need it.</p>

<p>Because the <code>configure(...)</code> methods accept an arbitrary closure, it is possible that the results of
 that closure could change over time. However, resources cache their configuration after it is computed. Therefore,
 if you do anything that would change the result of a configuration closure, you must call
 <code>invalidateConfiguration()</code> in order for the changes to take effect.</p>

<p><em>《insert your functional programming purist rant here if you so desire》</em></p>

<p>Note that you do <em>not</em> need to call this method after calling any of the <code>configure(...)</code> methods.
 You only need to call it if one of the previously passed closures will now behave differently.</p>

<p>For example, to make a header track the value of a modifiable property:</p>

<pre class="highlight plaintext"><code> var flavor: String {
   didSet { invalidateConfiguration() }
 }

 init() {
   super.init(base: "https://api.github.com")
   configure​ {
     $0.config.headers["Flavor-of-the-month"] = self.flavor  // NB: use weak self if service isn’t a singleton
   }
 }
</code></pre>

<p>Note that this method does <em>not</em> immediately recompute all existing configurations. This is an inexpensive call.
 Configurations are computed lazily, and the (still relatively low) performance impact of recomputation is spread
 over subsequent resource interactions.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">invalidateConfiguration</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
                <div class="task-name-container">
                  <a name="/Wiping%20state"></a>
                  <a name="//apple_ref/swift/Section/Wiping state" class="dashAnchor"></a>
                  <a href="#/Wiping%20state">
                    <h3 class="section-name">Wiping state</h3>
                  </a>
                </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service13wipeResourcesFS0_FTFCS_8ResourceSb_T_"></a>
                    <a name="//apple_ref/swift/Method/wipeResources(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service13wipeResourcesFS0_FTFCS_8ResourceSb_T_">wipeResources(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Wipes the state of this service’s resources. Typically used to handle logout.</p>

<p>Applies to resources matching the predicate, or all resources by default.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">wipeResources</span><span class="p">(</span><span class="nv">predicate</span><span class="p">:</span> <span class="kt">Resource</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="o">=</span>  <span class="p">{</span> <span class="n">_</span> <span class="k">in</span> <span class="kc">true</span> <span class="p">})</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC6Siesta7Service24wipeResourcesMatchingURLFS0_FFCSo5NSURLSbT_"></a>
                    <a name="//apple_ref/swift/Method/wipeResourcesMatchingURL(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC6Siesta7Service24wipeResourcesMatchingURLFS0_FFCSo5NSURLSbT_">wipeResourcesMatchingURL(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <pre class="highlight plaintext"><code>  Wipes the state of this service’s resources matching on URLs instead of `Resource` instances.
</code></pre>

<p>Useful for making shared predicates that you can pass to both <code>configure(_:)</code> and this method.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">func</span> <span class="nf">wipeResourcesMatchingURL</span><span class="p">(</span><span class="nv">predicate</span><span class="p">:</span> <span class="kt">NSURL</span> <span class="o">-&gt;</span> <span class="kt">Bool</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2015 <a class="link" href="http://bustoutsolutions.com" target="_blank" rel="external">Bust Out Solutions</a> under <a href="https://github.com/bustoutsolutions/siesta/blob/master/LICENSE">open source license</a>. (Last updated: 2015-09-13)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
