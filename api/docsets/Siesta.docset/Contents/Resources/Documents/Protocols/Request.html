<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Request Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Protocol/Request" class="dashAnchor"></a>
    <a title="Request Protocol Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">Siesta Docs</a> (89% documented)</p>
        <p class="header-right"><a href="https://github.com/bustoutsolutions/siesta"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">Siesta Reference</a>
        <img id="carat" src="../img/carat.png" />
        Request Protocol Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
          <a href="../Core.html">Core</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/Service.html">Service</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Resource.html">Resource</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Entity.html">Entity</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Error.html">Error</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ResourceObserver.html">ResourceObserver</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/ResourceEvent.html">ResourceEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/RequestMethod.html">RequestMethod</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Configuration.html">Configuration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Response Parsing.html">Response Parsing</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ResponseTransformer.html">ResponseTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/ResponseEntityTransformer.html">ResponseEntityTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Response Parsing.html#/s:V6Siesta15TextTransformer">TextTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Response Parsing.html#/s:V6Siesta15JsonTransformer">JsonTransformer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/TransformerSequence.html">TransformerSequence</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Network Layer.html">Network Layer</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/TransportProvider.html">TransportProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/RequestTransport.html">RequestTransport</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AlamofireTransportProvider.html">AlamofireTransportProvider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../UI Components.html">UI Components</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/ResourceStatusOverlay.html">ResourceStatusOverlay</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Logging.html">Logging</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Logging.html#/s:v6Siesta20enabledLogCategoriesGVSs3SetOS_11LogCategory_">enabledLogCategories</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/LogCategory.html">LogCategory</a>
              </li>
              <li class="nav-group-task">
                <a href="../Logging.html#/s:v6Siesta6loggerFTOS_11LogCategorySS_T_">logger</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Other Protocols.html">Other Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Other Protocols.html#/s:P6Siesta17NSJSONConvertible">NSJSONConvertible</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/TypedContentAccessors.html">TypedContentAccessors</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Other Typealiases.html">Other Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Other Typealiases.html#/s:6Siesta23ResourceObserverClosure">ResourceObserverClosure</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Request</h1>
              <div class="declaration">
                <div class="Swift">
                  <p class="aside-title">Swift</p>
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">Request</span><span class="p">:</span> <span class="kt">AnyObject</span></code></pre>

                </div>
              </div>
            <p>Registers hooks to receive notifications about the status of a network request, and some request control.</p>

<p>Note that these hooks are for only a <em>single request</em>, whereas <code>ResourceObserver</code>s receive notifications about
<em>all</em> resource load requests, no matter who initiated them. Note also that these hooks are available for <em>all</em>
requests, whereas <code>ResourceObserver</code>s only receive notifications about changes triggered by <code>load()</code>, <code>loadIfNeeded()</code>,
and <code>localEntityOverride(_:)</code>.</p>

<p>There is no race condition between a callback being added and a response arriving. If you add a callback after the
response has already arrived, the callback is still called as usual.</p>

<p>Request guarantees that it will call a given callback <em>at most</em> one time.</p>

<p>Callbacks are always called on the main queue.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP6Siesta7Request10completionuRq_S0__Fq_FFOS_8ResponseT_q_"></a>
                    <a name="//apple_ref/swift/Method/completion(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP6Siesta7Request10completionuRq_S0__Fq_FFOS_8ResponseT_q_">completion(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Call the closure once when the request finishes for any reason.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">completion</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="kt">Response</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP6Siesta7Request7successuRq_S0__Fq_FFVS_6EntityT_q_"></a>
                    <a name="//apple_ref/swift/Method/success(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP6Siesta7Request7successuRq_S0__Fq_FFVS_6EntityT_q_">success(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Call the closure once if the request succeeds.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">success</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="kt">Entity</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP6Siesta7Request7newDatauRq_S0__Fq_FFVS_6EntityT_q_"></a>
                    <a name="//apple_ref/swift/Method/newData(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP6Siesta7Request7newDatauRq_S0__Fq_FFVS_6EntityT_q_">newData(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Call the closure once if the request succeeds and the data changed.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">newData</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="kt">Entity</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP6Siesta7Request11notModifieduRq_S0__Fq_FFT_T_q_"></a>
                    <a name="//apple_ref/swift/Method/notModified(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP6Siesta7Request11notModifieduRq_S0__Fq_FFT_T_q_">notModified(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Call the closure once if the request succeeds with a 304.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">notModified</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="kt">Void</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP6Siesta7Request7failureuRq_S0__Fq_FFVS_5ErrorT_q_"></a>
                    <a name="//apple_ref/swift/Method/failure(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP6Siesta7Request7failureuRq_S0__Fq_FFVS_5ErrorT_q_">failure(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Call the closure once if the request fails for any reason.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">failure</span><span class="p">(</span><span class="nv">callback</span><span class="p">:</span> <span class="kt">Error</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vP6Siesta7Request9completedSb"></a>
                    <a name="//apple_ref/swift/Property/completed" class="dashAnchor"></a>
                    <a class="token" href="#/s:vP6Siesta7Request9completedSb">completed</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>True if the request has received and handled a server response, encountered a pre-request client-side side error,
  or been cancelled.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="k">var</span> <span class="nv">completed</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FP6Siesta7Request6canceluRq_S0__Fq_FT_T_"></a>
                    <a name="//apple_ref/swift/Method/cancel()" class="dashAnchor"></a>
                    <a class="token" href="#/s:FP6Siesta7Request6canceluRq_S0__Fq_FT_T_">cancel()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Cancel the request if it is still in progress. Has no effect if a response has already been received.</p>

<p>If this method is called while the request is in progress, it immediately triggers the <code>failure</code>/<code>completion</code>
  callbacks with an <code>NSError</code> with the domain <code>NSURLErrorDomain</code> and the code <code>NSURLErrorCancelled</code>.</p>

<p>Note that <code>cancel()</code> is not guaranteed to stop the request from reaching the server. In fact, it is not guaranteed
  to have any effect at all on the underlying request, subject to the whims of the <code>TransportProvider</code>. Therefore,
  after calling this method on a mutating request (POST, PUT, etc.), you should consider the service-side state of
  the resource to be unknown. Is it safest to immediately call either <code>Resource.load()</code> or <code>Resource.wipe()</code>.</p>

<p>This method <em>does</em> guarantee, however, that after it is called, even if a network response does arrive it will be
  ignored and not trigger any callbacks.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">func</span> <span class="nf">cancel</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2015 <a class="link" href="http://bustoutsolutions.com" target="_blank" rel="external">Bust Out Solutions</a> under <a href="https://github.com/bustoutsolutions/siesta/blob/master/LICENSE">open source license</a>. (Last updated: 2015-08-15)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.2.2</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
